{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import io from'socket.io-client';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:5000');function App(){const[username,setUsername]=useState('');const[isLoggedIn,setIsLoggedIn]=useState(false);const[currentView,setCurrentView]=useState('lobby');// 'lobby' or 'room'\nconst[rooms,setRooms]=useState([]);const[currentRoom,setCurrentRoom]=useState(null);const[participants,setParticipants]=useState([]);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[newRoomName,setNewRoomName]=useState('');const[isMuted,setIsMuted]=useState(false);const[isConnected,setIsConnected]=useState(false);const localAudioRef=useRef(null);const remoteAudiosRef=useRef({});const peerConnectionsRef=useRef({});const localStreamRef=useRef(null);// WebRTC configuration\nconst rtcConfig={iceServers:[{urls:'stun:stun.l.google.com:19302'},{urls:'stun:stun1.l.google.com:19302'}]};// eslint-disable-next-line react-hooks/exhaustive-deps\nuseEffect(()=>{// Socket event listeners\nsocket.on('connect',()=>{setIsConnected(true);});socket.on('disconnect',()=>{setIsConnected(false);});socket.on('user-joined',user=>{console.log('User joined app:',user);});socket.on('rooms-list',roomsList=>{setRooms(roomsList);});socket.on('room-created',room=>{setRooms(prev=>[...prev,room]);});socket.on('room-updated',room=>{setRooms(prev=>prev.map(r=>r.id===room.id?room:r));});socket.on('joined-room',data=>{setCurrentRoom(data.room);setParticipants(data.users);setMessages(data.messages);setCurrentView('room');});socket.on('user-joined-room',user=>{setParticipants(prev=>[...prev,user]);// Initialize WebRTC connection for new user\ninitializePeerConnection(user.id);});socket.on('user-left',user=>{setParticipants(prev=>prev.filter(p=>p.id!==user.id));// Clean up peer connection\nif(peerConnectionsRef.current[user.id]){peerConnectionsRef.current[user.id].close();delete peerConnectionsRef.current[user.id];}if(remoteAudiosRef.current[user.id]){delete remoteAudiosRef.current[user.id];}});socket.on('new-message',message=>{setMessages(prev=>[...prev,message]);});// WebRTC signaling\nsocket.on('offer',async data=>{await handleOffer(data.offer,data.sender);});socket.on('answer',async data=>{await handleAnswer(data.answer,data.sender);});socket.on('ice-candidate',async data=>{await handleIceCandidate(data.candidate,data.sender);});return()=>{socket.off('connect');socket.off('disconnect');socket.off('user-joined');socket.off('rooms-list');socket.off('room-created');socket.off('room-updated');socket.off('joined-room');socket.off('user-joined-room');socket.off('user-left');socket.off('new-message');socket.off('offer');socket.off('answer');socket.off('ice-candidate');};},[]);// Initialize audio stream\nconst initializeAudio=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});localStreamRef.current=stream;if(localAudioRef.current){localAudioRef.current.srcObject=stream;}return stream;}catch(error){console.error('Error accessing microphone:',error);alert('Please allow microphone access to use voice chat');}};// Initialize peer connection\nconst initializePeerConnection=async peerId=>{if(!localStreamRef.current){await initializeAudio();}const peerConnection=new RTCPeerConnection(rtcConfig);peerConnectionsRef.current[peerId]=peerConnection;// Add local stream to peer connection\nif(localStreamRef.current){localStreamRef.current.getTracks().forEach(track=>{peerConnection.addTrack(track,localStreamRef.current);});}// Handle remote stream\npeerConnection.ontrack=event=>{const remoteStream=event.streams[0];if(!remoteAudiosRef.current[peerId]){const audio=new Audio();audio.srcObject=remoteStream;audio.autoplay=true;remoteAudiosRef.current[peerId]=audio;}};// Handle ICE candidates\npeerConnection.onicecandidate=event=>{if(event.candidate){socket.emit('ice-candidate',{candidate:event.candidate,target:peerId});}};// Create and send offer\nconst offer=await peerConnection.createOffer();await peerConnection.setLocalDescription(offer);socket.emit('offer',{offer,target:peerId});};// Handle incoming offer\nconst handleOffer=async(offer,senderId)=>{if(!localStreamRef.current){await initializeAudio();}const peerConnection=new RTCPeerConnection(rtcConfig);peerConnectionsRef.current[senderId]=peerConnection;// Add local stream\nif(localStreamRef.current){localStreamRef.current.getTracks().forEach(track=>{peerConnection.addTrack(track,localStreamRef.current);});}// Handle remote stream\npeerConnection.ontrack=event=>{const remoteStream=event.streams[0];if(!remoteAudiosRef.current[senderId]){const audio=new Audio();audio.srcObject=remoteStream;audio.autoplay=true;remoteAudiosRef.current[senderId]=audio;}};// Handle ICE candidates\npeerConnection.onicecandidate=event=>{if(event.candidate){socket.emit('ice-candidate',{candidate:event.candidate,target:senderId});}};await peerConnection.setRemoteDescription(offer);const answer=await peerConnection.createAnswer();await peerConnection.setLocalDescription(answer);socket.emit('answer',{answer,target:senderId});};// Handle incoming answer\nconst handleAnswer=async(answer,senderId)=>{const peerConnection=peerConnectionsRef.current[senderId];if(peerConnection){await peerConnection.setRemoteDescription(answer);}};// Handle ICE candidate\nconst handleIceCandidate=async(candidate,senderId)=>{const peerConnection=peerConnectionsRef.current[senderId];if(peerConnection){await peerConnection.addIceCandidate(candidate);}};const handleLogin=e=>{e.preventDefault();if(username.trim()){socket.emit('join-app',username.trim());setIsLoggedIn(true);}};const handleCreateRoom=e=>{e.preventDefault();if(newRoomName.trim()){socket.emit('create-room',newRoomName.trim());setNewRoomName('');}};const handleJoinRoom=async roomId=>{await initializeAudio();socket.emit('join-room',roomId);};const handleSendMessage=e=>{e.preventDefault();if(newMessage.trim()){socket.emit('send-message',{content:newMessage.trim()});setNewMessage('');}};const handleLeaveRoom=()=>{// Clean up audio streams and peer connections\nif(localStreamRef.current){localStreamRef.current.getTracks().forEach(track=>track.stop());}Object.values(peerConnectionsRef.current).forEach(pc=>pc.close());peerConnectionsRef.current={};remoteAudiosRef.current={};setCurrentView('lobby');setCurrentRoom(null);setParticipants([]);setMessages([]);};const toggleMute=()=>{if(localStreamRef.current){const audioTrack=localStreamRef.current.getAudioTracks()[0];if(audioTrack){audioTrack.enabled=!audioTrack.enabled;setIsMuted(!audioTrack.enabled);}}};if(!isLoggedIn){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:'400px',margin:'100px auto'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',marginBottom:'24px',color:'#2d3748'},children:\"Voice Chat App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your username\",value:username,onChange:e=>setUsername(e.target.value),className:\"input\",style:{marginBottom:'16px'},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",style:{width:'100%'},children:\"Join Chat\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'16px',color:isConnected?'#48bb78':'#e53e3e'},children:isConnected?'🟢 Connected':'🔴 Disconnected'})]})});}if(currentView==='lobby'){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{color:'#2d3748'},children:[\"Welcome, \",username,\"!\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:isConnected?'#48bb78':'#e53e3e'},children:isConnected?'🟢 Connected':'🔴 Disconnected'})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleCreateRoom,style:{marginBottom:'24px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Room name\",value:newRoomName,onChange:e=>setNewRoomName(e.target.value),className:\"input\",style:{flex:1},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Create Room\"})]})}),/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'16px',color:'#4a5568'},children:\"Available Rooms\"}),rooms.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"No rooms available. Create one to get started!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"room-grid\",children:rooms.map(room=>/*#__PURE__*/_jsxs(\"div\",{className:\"room-card\",onClick:()=>handleJoinRoom(room.id),children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'8px',color:'#2d3748'},children:room.name}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#718096',marginBottom:'8px'},children:[\"Created by: \",room.createdBy]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#667eea',fontWeight:'500'},children:[\"\\uD83D\\uDC65 \",room.userCount,\" participant\",room.userCount!==1?'s':'']})]},room.id))})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{color:'#2d3748'},children:[\"\\uD83C\\uDF99\\uFE0F \",currentRoom===null||currentRoom===void 0?void 0:currentRoom.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLeaveRoom,className:\"btn btn-secondary\",children:\"Leave Room\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"voice-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'16px',color:'#4a5568'},children:\"Voice Chat\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"participants\",children:[/*#__PURE__*/_jsxs(\"h3\",{style:{marginBottom:'12px',color:'#2d3748'},children:[\"Participants (\",participants.length,\")\"]}),participants.map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"participant\",children:[/*#__PURE__*/_jsx(\"span\",{children:participant.username}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#718096'},children:participant.id===socket.id?'(You)':'🎤'})]},participant.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"audio-controls\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleMute,className:\"mute-btn \".concat(isMuted?'muted':'unmuted'),title:isMuted?'Unmute':'Mute',children:isMuted?'🔇':'🎤'})}),/*#__PURE__*/_jsx(\"audio\",{ref:localAudioRef,muted:true,style:{display:'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'16px',color:'#4a5568'},children:\"Text Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#718096',padding:'20px'},children:\"No messages yet. Start the conversation!\"}):messages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[message.username,/*#__PURE__*/_jsx(\"span\",{style:{float:'right',fontWeight:'normal',fontSize:'12px'},children:new Date(message.timestamp).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"div\",{children:message.content})]},message.id))}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSendMessage,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type a message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),className:\"input\",style:{flex:1},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Send\"})]})})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","io","jsx","_jsx","jsxs","_jsxs","socket","App","username","setUsername","isLoggedIn","setIsLoggedIn","currentView","setCurrentView","rooms","setRooms","currentRoom","setCurrentRoom","participants","setParticipants","messages","setMessages","newMessage","setNewMessage","newRoomName","setNewRoomName","isMuted","setIsMuted","isConnected","setIsConnected","localAudioRef","remoteAudiosRef","peerConnectionsRef","localStreamRef","rtcConfig","iceServers","urls","on","user","console","log","roomsList","room","prev","map","r","id","data","users","initializePeerConnection","filter","p","current","close","message","handleOffer","offer","sender","handleAnswer","answer","handleIceCandidate","candidate","off","initializeAudio","stream","navigator","mediaDevices","getUserMedia","audio","srcObject","error","alert","peerId","peerConnection","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","event","remoteStream","streams","Audio","autoplay","onicecandidate","emit","target","createOffer","setLocalDescription","senderId","setRemoteDescription","createAnswer","addIceCandidate","handleLogin","e","preventDefault","trim","handleCreateRoom","handleJoinRoom","roomId","handleSendMessage","content","handleLeaveRoom","stop","Object","values","pc","toggleMute","audioTrack","getAudioTracks","enabled","className","children","style","maxWidth","margin","textAlign","marginBottom","color","onSubmit","type","placeholder","value","onChange","required","width","marginTop","display","justifyContent","alignItems","gap","flex","length","onClick","name","createdBy","fontWeight","userCount","participant","fontSize","concat","title","ref","muted","padding","float","Date","timestamp","toLocaleTimeString"],"sources":["C:/Users/user/CascadeProjects/voice-chat-app/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\n\nconst socket = io('http://localhost:5000');\n\nfunction App() {\n  const [username, setUsername] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentView, setCurrentView] = useState('lobby'); // 'lobby' or 'room'\n  const [rooms, setRooms] = useState([]);\n  const [currentRoom, setCurrentRoom] = useState(null);\n  const [participants, setParticipants] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [newRoomName, setNewRoomName] = useState('');\n  const [isMuted, setIsMuted] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n\n  const localAudioRef = useRef(null);\n  const remoteAudiosRef = useRef({});\n  const peerConnectionsRef = useRef({});\n  const localStreamRef = useRef(null);\n\n  // WebRTC configuration\n  const rtcConfig = {\n    iceServers: [\n      { urls: 'stun:stun.l.google.com:19302' },\n      { urls: 'stun:stun1.l.google.com:19302' }\n    ]\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    // Socket event listeners\n    socket.on('connect', () => {\n      setIsConnected(true);\n    });\n\n    socket.on('disconnect', () => {\n      setIsConnected(false);\n    });\n\n    socket.on('user-joined', (user) => {\n      console.log('User joined app:', user);\n    });\n\n    socket.on('rooms-list', (roomsList) => {\n      setRooms(roomsList);\n    });\n\n    socket.on('room-created', (room) => {\n      setRooms(prev => [...prev, room]);\n    });\n\n    socket.on('room-updated', (room) => {\n      setRooms(prev => prev.map(r => r.id === room.id ? room : r));\n    });\n\n    socket.on('joined-room', (data) => {\n      setCurrentRoom(data.room);\n      setParticipants(data.users);\n      setMessages(data.messages);\n      setCurrentView('room');\n    });\n\n    socket.on('user-joined-room', (user) => {\n      setParticipants(prev => [...prev, user]);\n      // Initialize WebRTC connection for new user\n      initializePeerConnection(user.id);\n    });\n\n    socket.on('user-left', (user) => {\n      setParticipants(prev => prev.filter(p => p.id !== user.id));\n      // Clean up peer connection\n      if (peerConnectionsRef.current[user.id]) {\n        peerConnectionsRef.current[user.id].close();\n        delete peerConnectionsRef.current[user.id];\n      }\n      if (remoteAudiosRef.current[user.id]) {\n        delete remoteAudiosRef.current[user.id];\n      }\n    });\n\n    socket.on('new-message', (message) => {\n      setMessages(prev => [...prev, message]);\n    });\n\n    // WebRTC signaling\n    socket.on('offer', async (data) => {\n      await handleOffer(data.offer, data.sender);\n    });\n\n    socket.on('answer', async (data) => {\n      await handleAnswer(data.answer, data.sender);\n    });\n\n    socket.on('ice-candidate', async (data) => {\n      await handleIceCandidate(data.candidate, data.sender);\n    });\n\n    return () => {\n      socket.off('connect');\n      socket.off('disconnect');\n      socket.off('user-joined');\n      socket.off('rooms-list');\n      socket.off('room-created');\n      socket.off('room-updated');\n      socket.off('joined-room');\n      socket.off('user-joined-room');\n      socket.off('user-left');\n      socket.off('new-message');\n      socket.off('offer');\n      socket.off('answer');\n      socket.off('ice-candidate');\n    };\n  }, []);\n\n  // Initialize audio stream\n  const initializeAudio = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      localStreamRef.current = stream;\n      if (localAudioRef.current) {\n        localAudioRef.current.srcObject = stream;\n      }\n      return stream;\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Please allow microphone access to use voice chat');\n    }\n  };\n\n  // Initialize peer connection\n  const initializePeerConnection = async (peerId) => {\n    if (!localStreamRef.current) {\n      await initializeAudio();\n    }\n\n    const peerConnection = new RTCPeerConnection(rtcConfig);\n    peerConnectionsRef.current[peerId] = peerConnection;\n\n    // Add local stream to peer connection\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(track => {\n        peerConnection.addTrack(track, localStreamRef.current);\n      });\n    }\n\n    // Handle remote stream\n    peerConnection.ontrack = (event) => {\n      const remoteStream = event.streams[0];\n      if (!remoteAudiosRef.current[peerId]) {\n        const audio = new Audio();\n        audio.srcObject = remoteStream;\n        audio.autoplay = true;\n        remoteAudiosRef.current[peerId] = audio;\n      }\n    };\n\n    // Handle ICE candidates\n    peerConnection.onicecandidate = (event) => {\n      if (event.candidate) {\n        socket.emit('ice-candidate', {\n          candidate: event.candidate,\n          target: peerId\n        });\n      }\n    };\n\n    // Create and send offer\n    const offer = await peerConnection.createOffer();\n    await peerConnection.setLocalDescription(offer);\n    socket.emit('offer', { offer, target: peerId });\n  };\n\n  // Handle incoming offer\n  const handleOffer = async (offer, senderId) => {\n    if (!localStreamRef.current) {\n      await initializeAudio();\n    }\n\n    const peerConnection = new RTCPeerConnection(rtcConfig);\n    peerConnectionsRef.current[senderId] = peerConnection;\n\n    // Add local stream\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(track => {\n        peerConnection.addTrack(track, localStreamRef.current);\n      });\n    }\n\n    // Handle remote stream\n    peerConnection.ontrack = (event) => {\n      const remoteStream = event.streams[0];\n      if (!remoteAudiosRef.current[senderId]) {\n        const audio = new Audio();\n        audio.srcObject = remoteStream;\n        audio.autoplay = true;\n        remoteAudiosRef.current[senderId] = audio;\n      }\n    };\n\n    // Handle ICE candidates\n    peerConnection.onicecandidate = (event) => {\n      if (event.candidate) {\n        socket.emit('ice-candidate', {\n          candidate: event.candidate,\n          target: senderId\n        });\n      }\n    };\n\n    await peerConnection.setRemoteDescription(offer);\n    const answer = await peerConnection.createAnswer();\n    await peerConnection.setLocalDescription(answer);\n    socket.emit('answer', { answer, target: senderId });\n  };\n\n  // Handle incoming answer\n  const handleAnswer = async (answer, senderId) => {\n    const peerConnection = peerConnectionsRef.current[senderId];\n    if (peerConnection) {\n      await peerConnection.setRemoteDescription(answer);\n    }\n  };\n\n  // Handle ICE candidate\n  const handleIceCandidate = async (candidate, senderId) => {\n    const peerConnection = peerConnectionsRef.current[senderId];\n    if (peerConnection) {\n      await peerConnection.addIceCandidate(candidate);\n    }\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (username.trim()) {\n      socket.emit('join-app', username.trim());\n      setIsLoggedIn(true);\n    }\n  };\n\n  const handleCreateRoom = (e) => {\n    e.preventDefault();\n    if (newRoomName.trim()) {\n      socket.emit('create-room', newRoomName.trim());\n      setNewRoomName('');\n    }\n  };\n\n  const handleJoinRoom = async (roomId) => {\n    await initializeAudio();\n    socket.emit('join-room', roomId);\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (newMessage.trim()) {\n      socket.emit('send-message', { content: newMessage.trim() });\n      setNewMessage('');\n    }\n  };\n\n  const handleLeaveRoom = () => {\n    // Clean up audio streams and peer connections\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(track => track.stop());\n    }\n    \n    Object.values(peerConnectionsRef.current).forEach(pc => pc.close());\n    peerConnectionsRef.current = {};\n    remoteAudiosRef.current = {};\n    \n    setCurrentView('lobby');\n    setCurrentRoom(null);\n    setParticipants([]);\n    setMessages([]);\n  };\n\n  const toggleMute = () => {\n    if (localStreamRef.current) {\n      const audioTrack = localStreamRef.current.getAudioTracks()[0];\n      if (audioTrack) {\n        audioTrack.enabled = !audioTrack.enabled;\n        setIsMuted(!audioTrack.enabled);\n      }\n    }\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\" style={{ maxWidth: '400px', margin: '100px auto' }}>\n          <h1 style={{ textAlign: 'center', marginBottom: '24px', color: '#2d3748' }}>\n            Voice Chat App\n          </h1>\n          <form onSubmit={handleLogin}>\n            <input\n              type=\"text\"\n              placeholder=\"Enter your username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"input\"\n              style={{ marginBottom: '16px' }}\n              required\n            />\n            <button type=\"submit\" className=\"btn\" style={{ width: '100%' }}>\n              Join Chat\n            </button>\n          </form>\n          <div style={{ textAlign: 'center', marginTop: '16px', color: isConnected ? '#48bb78' : '#e53e3e' }}>\n            {isConnected ? '🟢 Connected' : '🔴 Disconnected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentView === 'lobby') {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n            <h1 style={{ color: '#2d3748' }}>Welcome, {username}!</h1>\n            <div style={{ color: isConnected ? '#48bb78' : '#e53e3e' }}>\n              {isConnected ? '🟢 Connected' : '🔴 Disconnected'}\n            </div>\n          </div>\n          \n          <form onSubmit={handleCreateRoom} style={{ marginBottom: '24px' }}>\n            <div style={{ display: 'flex', gap: '12px' }}>\n              <input\n                type=\"text\"\n                placeholder=\"Room name\"\n                value={newRoomName}\n                onChange={(e) => setNewRoomName(e.target.value)}\n                className=\"input\"\n                style={{ flex: 1 }}\n                required\n              />\n              <button type=\"submit\" className=\"btn\">\n                Create Room\n              </button>\n            </div>\n          </form>\n\n          <h2 style={{ marginBottom: '16px', color: '#4a5568' }}>Available Rooms</h2>\n          {rooms.length === 0 ? (\n            <div className=\"loading\">No rooms available. Create one to get started!</div>\n          ) : (\n            <div className=\"room-grid\">\n              {rooms.map(room => (\n                <div key={room.id} className=\"room-card\" onClick={() => handleJoinRoom(room.id)}>\n                  <h3 style={{ marginBottom: '8px', color: '#2d3748' }}>{room.name}</h3>\n                  <p style={{ color: '#718096', marginBottom: '8px' }}>\n                    Created by: {room.createdBy}\n                  </p>\n                  <p style={{ color: '#667eea', fontWeight: '500' }}>\n                    👥 {room.userCount} participant{room.userCount !== 1 ? 's' : ''}\n                  </p>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ marginBottom: '20px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h1 style={{ color: '#2d3748' }}>🎙️ {currentRoom?.name}</h1>\n          <button onClick={handleLeaveRoom} className=\"btn btn-secondary\">\n            Leave Room\n          </button>\n        </div>\n      </div>\n\n      <div className=\"chat-container\">\n        <div className=\"voice-panel\">\n          <h2 style={{ marginBottom: '16px', color: '#4a5568' }}>Voice Chat</h2>\n          \n          <div className=\"participants\">\n            <h3 style={{ marginBottom: '12px', color: '#2d3748' }}>\n              Participants ({participants.length})\n            </h3>\n            {participants.map(participant => (\n              <div key={participant.id} className=\"participant\">\n                <span>{participant.username}</span>\n                <span style={{ fontSize: '12px', color: '#718096' }}>\n                  {participant.id === socket.id ? '(You)' : '🎤'}\n                </span>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"audio-controls\">\n            <button\n              onClick={toggleMute}\n              className={`mute-btn ${isMuted ? 'muted' : 'unmuted'}`}\n              title={isMuted ? 'Unmute' : 'Mute'}\n            >\n              {isMuted ? '🔇' : '🎤'}\n            </button>\n          </div>\n\n          <audio ref={localAudioRef} muted style={{ display: 'none' }} />\n        </div>\n\n        <div className=\"chat-panel\">\n          <h2 style={{ marginBottom: '16px', color: '#4a5568' }}>Text Chat</h2>\n          \n          <div className=\"messages\">\n            {messages.length === 0 ? (\n              <div style={{ textAlign: 'center', color: '#718096', padding: '20px' }}>\n                No messages yet. Start the conversation!\n              </div>\n            ) : (\n              messages.map(message => (\n                <div key={message.id} className=\"message\">\n                  <div className=\"message-header\">\n                    {message.username}\n                    <span style={{ float: 'right', fontWeight: 'normal', fontSize: '12px' }}>\n                      {new Date(message.timestamp).toLocaleTimeString()}\n                    </span>\n                  </div>\n                  <div>{message.content}</div>\n                </div>\n              ))\n            )}\n          </div>\n\n          <form onSubmit={handleSendMessage}>\n            <div style={{ display: 'flex', gap: '8px' }}>\n              <input\n                type=\"text\"\n                placeholder=\"Type a message...\"\n                value={newMessage}\n                onChange={(e) => setNewMessage(e.target.value)}\n                className=\"input\"\n                style={{ flex: 1 }}\n                required\n              />\n              <button type=\"submit\" className=\"btn\">\n                Send\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAE1C,QAAS,CAAAM,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,OAAO,CAAC,CAAE;AACzD,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACoB,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACwB,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC0B,WAAW,CAAEC,cAAc,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC4B,OAAO,CAAEC,UAAU,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAAAgC,aAAa,CAAG9B,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAA+B,eAAe,CAAG/B,MAAM,CAAC,CAAC,CAAC,CAAC,CAClC,KAAM,CAAAgC,kBAAkB,CAAGhC,MAAM,CAAC,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAiC,cAAc,CAAGjC,MAAM,CAAC,IAAI,CAAC,CAEnC;AACA,KAAM,CAAAkC,SAAS,CAAG,CAChBC,UAAU,CAAE,CACV,CAAEC,IAAI,CAAE,8BAA+B,CAAC,CACxC,CAAEA,IAAI,CAAE,+BAAgC,CAAC,CAE7C,CAAC,CAED;AACArC,SAAS,CAAC,IAAM,CACd;AACAO,MAAM,CAAC+B,EAAE,CAAC,SAAS,CAAE,IAAM,CACzBR,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAAC,CAEFvB,MAAM,CAAC+B,EAAE,CAAC,YAAY,CAAE,IAAM,CAC5BR,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAAC,CAEFvB,MAAM,CAAC+B,EAAE,CAAC,aAAa,CAAGC,IAAI,EAAK,CACjCC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEF,IAAI,CAAC,CACvC,CAAC,CAAC,CAEFhC,MAAM,CAAC+B,EAAE,CAAC,YAAY,CAAGI,SAAS,EAAK,CACrC1B,QAAQ,CAAC0B,SAAS,CAAC,CACrB,CAAC,CAAC,CAEFnC,MAAM,CAAC+B,EAAE,CAAC,cAAc,CAAGK,IAAI,EAAK,CAClC3B,QAAQ,CAAC4B,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAED,IAAI,CAAC,CAAC,CACnC,CAAC,CAAC,CAEFpC,MAAM,CAAC+B,EAAE,CAAC,cAAc,CAAGK,IAAI,EAAK,CAClC3B,QAAQ,CAAC4B,IAAI,EAAIA,IAAI,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKJ,IAAI,CAACI,EAAE,CAAGJ,IAAI,CAAGG,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAC,CAEFvC,MAAM,CAAC+B,EAAE,CAAC,aAAa,CAAGU,IAAI,EAAK,CACjC9B,cAAc,CAAC8B,IAAI,CAACL,IAAI,CAAC,CACzBvB,eAAe,CAAC4B,IAAI,CAACC,KAAK,CAAC,CAC3B3B,WAAW,CAAC0B,IAAI,CAAC3B,QAAQ,CAAC,CAC1BP,cAAc,CAAC,MAAM,CAAC,CACxB,CAAC,CAAC,CAEFP,MAAM,CAAC+B,EAAE,CAAC,kBAAkB,CAAGC,IAAI,EAAK,CACtCnB,eAAe,CAACwB,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAEL,IAAI,CAAC,CAAC,CACxC;AACAW,wBAAwB,CAACX,IAAI,CAACQ,EAAE,CAAC,CACnC,CAAC,CAAC,CAEFxC,MAAM,CAAC+B,EAAE,CAAC,WAAW,CAAGC,IAAI,EAAK,CAC/BnB,eAAe,CAACwB,IAAI,EAAIA,IAAI,CAACO,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACL,EAAE,GAAKR,IAAI,CAACQ,EAAE,CAAC,CAAC,CAC3D;AACA,GAAId,kBAAkB,CAACoB,OAAO,CAACd,IAAI,CAACQ,EAAE,CAAC,CAAE,CACvCd,kBAAkB,CAACoB,OAAO,CAACd,IAAI,CAACQ,EAAE,CAAC,CAACO,KAAK,CAAC,CAAC,CAC3C,MAAO,CAAArB,kBAAkB,CAACoB,OAAO,CAACd,IAAI,CAACQ,EAAE,CAAC,CAC5C,CACA,GAAIf,eAAe,CAACqB,OAAO,CAACd,IAAI,CAACQ,EAAE,CAAC,CAAE,CACpC,MAAO,CAAAf,eAAe,CAACqB,OAAO,CAACd,IAAI,CAACQ,EAAE,CAAC,CACzC,CACF,CAAC,CAAC,CAEFxC,MAAM,CAAC+B,EAAE,CAAC,aAAa,CAAGiB,OAAO,EAAK,CACpCjC,WAAW,CAACsB,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAEW,OAAO,CAAC,CAAC,CACzC,CAAC,CAAC,CAEF;AACAhD,MAAM,CAAC+B,EAAE,CAAC,OAAO,CAAE,KAAO,CAAAU,IAAI,EAAK,CACjC,KAAM,CAAAQ,WAAW,CAACR,IAAI,CAACS,KAAK,CAAET,IAAI,CAACU,MAAM,CAAC,CAC5C,CAAC,CAAC,CAEFnD,MAAM,CAAC+B,EAAE,CAAC,QAAQ,CAAE,KAAO,CAAAU,IAAI,EAAK,CAClC,KAAM,CAAAW,YAAY,CAACX,IAAI,CAACY,MAAM,CAAEZ,IAAI,CAACU,MAAM,CAAC,CAC9C,CAAC,CAAC,CAEFnD,MAAM,CAAC+B,EAAE,CAAC,eAAe,CAAE,KAAO,CAAAU,IAAI,EAAK,CACzC,KAAM,CAAAa,kBAAkB,CAACb,IAAI,CAACc,SAAS,CAAEd,IAAI,CAACU,MAAM,CAAC,CACvD,CAAC,CAAC,CAEF,MAAO,IAAM,CACXnD,MAAM,CAACwD,GAAG,CAAC,SAAS,CAAC,CACrBxD,MAAM,CAACwD,GAAG,CAAC,YAAY,CAAC,CACxBxD,MAAM,CAACwD,GAAG,CAAC,aAAa,CAAC,CACzBxD,MAAM,CAACwD,GAAG,CAAC,YAAY,CAAC,CACxBxD,MAAM,CAACwD,GAAG,CAAC,cAAc,CAAC,CAC1BxD,MAAM,CAACwD,GAAG,CAAC,cAAc,CAAC,CAC1BxD,MAAM,CAACwD,GAAG,CAAC,aAAa,CAAC,CACzBxD,MAAM,CAACwD,GAAG,CAAC,kBAAkB,CAAC,CAC9BxD,MAAM,CAACwD,GAAG,CAAC,WAAW,CAAC,CACvBxD,MAAM,CAACwD,GAAG,CAAC,aAAa,CAAC,CACzBxD,MAAM,CAACwD,GAAG,CAAC,OAAO,CAAC,CACnBxD,MAAM,CAACwD,GAAG,CAAC,QAAQ,CAAC,CACpBxD,MAAM,CAACwD,GAAG,CAAC,eAAe,CAAC,CAC7B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CACzEnC,cAAc,CAACmB,OAAO,CAAGY,MAAM,CAC/B,GAAIlC,aAAa,CAACsB,OAAO,CAAE,CACzBtB,aAAa,CAACsB,OAAO,CAACiB,SAAS,CAAGL,MAAM,CAC1C,CACA,MAAO,CAAAA,MAAM,CACf,CAAE,MAAOM,KAAK,CAAE,CACd/B,OAAO,CAAC+B,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDC,KAAK,CAAC,kDAAkD,CAAC,CAC3D,CACF,CAAC,CAED;AACA,KAAM,CAAAtB,wBAAwB,CAAG,KAAO,CAAAuB,MAAM,EAAK,CACjD,GAAI,CAACvC,cAAc,CAACmB,OAAO,CAAE,CAC3B,KAAM,CAAAW,eAAe,CAAC,CAAC,CACzB,CAEA,KAAM,CAAAU,cAAc,CAAG,GAAI,CAAAC,iBAAiB,CAACxC,SAAS,CAAC,CACvDF,kBAAkB,CAACoB,OAAO,CAACoB,MAAM,CAAC,CAAGC,cAAc,CAEnD;AACA,GAAIxC,cAAc,CAACmB,OAAO,CAAE,CAC1BnB,cAAc,CAACmB,OAAO,CAACuB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,EAAI,CAClDJ,cAAc,CAACK,QAAQ,CAACD,KAAK,CAAE5C,cAAc,CAACmB,OAAO,CAAC,CACxD,CAAC,CAAC,CACJ,CAEA;AACAqB,cAAc,CAACM,OAAO,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,YAAY,CAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CACrC,GAAI,CAACnD,eAAe,CAACqB,OAAO,CAACoB,MAAM,CAAC,CAAE,CACpC,KAAM,CAAAJ,KAAK,CAAG,GAAI,CAAAe,KAAK,CAAC,CAAC,CACzBf,KAAK,CAACC,SAAS,CAAGY,YAAY,CAC9Bb,KAAK,CAACgB,QAAQ,CAAG,IAAI,CACrBrD,eAAe,CAACqB,OAAO,CAACoB,MAAM,CAAC,CAAGJ,KAAK,CACzC,CACF,CAAC,CAED;AACAK,cAAc,CAACY,cAAc,CAAIL,KAAK,EAAK,CACzC,GAAIA,KAAK,CAACnB,SAAS,CAAE,CACnBvD,MAAM,CAACgF,IAAI,CAAC,eAAe,CAAE,CAC3BzB,SAAS,CAAEmB,KAAK,CAACnB,SAAS,CAC1B0B,MAAM,CAAEf,MACV,CAAC,CAAC,CACJ,CACF,CAAC,CAED;AACA,KAAM,CAAAhB,KAAK,CAAG,KAAM,CAAAiB,cAAc,CAACe,WAAW,CAAC,CAAC,CAChD,KAAM,CAAAf,cAAc,CAACgB,mBAAmB,CAACjC,KAAK,CAAC,CAC/ClD,MAAM,CAACgF,IAAI,CAAC,OAAO,CAAE,CAAE9B,KAAK,CAAE+B,MAAM,CAAEf,MAAO,CAAC,CAAC,CACjD,CAAC,CAED;AACA,KAAM,CAAAjB,WAAW,CAAG,KAAAA,CAAOC,KAAK,CAAEkC,QAAQ,GAAK,CAC7C,GAAI,CAACzD,cAAc,CAACmB,OAAO,CAAE,CAC3B,KAAM,CAAAW,eAAe,CAAC,CAAC,CACzB,CAEA,KAAM,CAAAU,cAAc,CAAG,GAAI,CAAAC,iBAAiB,CAACxC,SAAS,CAAC,CACvDF,kBAAkB,CAACoB,OAAO,CAACsC,QAAQ,CAAC,CAAGjB,cAAc,CAErD;AACA,GAAIxC,cAAc,CAACmB,OAAO,CAAE,CAC1BnB,cAAc,CAACmB,OAAO,CAACuB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,EAAI,CAClDJ,cAAc,CAACK,QAAQ,CAACD,KAAK,CAAE5C,cAAc,CAACmB,OAAO,CAAC,CACxD,CAAC,CAAC,CACJ,CAEA;AACAqB,cAAc,CAACM,OAAO,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,YAAY,CAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CACrC,GAAI,CAACnD,eAAe,CAACqB,OAAO,CAACsC,QAAQ,CAAC,CAAE,CACtC,KAAM,CAAAtB,KAAK,CAAG,GAAI,CAAAe,KAAK,CAAC,CAAC,CACzBf,KAAK,CAACC,SAAS,CAAGY,YAAY,CAC9Bb,KAAK,CAACgB,QAAQ,CAAG,IAAI,CACrBrD,eAAe,CAACqB,OAAO,CAACsC,QAAQ,CAAC,CAAGtB,KAAK,CAC3C,CACF,CAAC,CAED;AACAK,cAAc,CAACY,cAAc,CAAIL,KAAK,EAAK,CACzC,GAAIA,KAAK,CAACnB,SAAS,CAAE,CACnBvD,MAAM,CAACgF,IAAI,CAAC,eAAe,CAAE,CAC3BzB,SAAS,CAAEmB,KAAK,CAACnB,SAAS,CAC1B0B,MAAM,CAAEG,QACV,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAjB,cAAc,CAACkB,oBAAoB,CAACnC,KAAK,CAAC,CAChD,KAAM,CAAAG,MAAM,CAAG,KAAM,CAAAc,cAAc,CAACmB,YAAY,CAAC,CAAC,CAClD,KAAM,CAAAnB,cAAc,CAACgB,mBAAmB,CAAC9B,MAAM,CAAC,CAChDrD,MAAM,CAACgF,IAAI,CAAC,QAAQ,CAAE,CAAE3B,MAAM,CAAE4B,MAAM,CAAEG,QAAS,CAAC,CAAC,CACrD,CAAC,CAED;AACA,KAAM,CAAAhC,YAAY,CAAG,KAAAA,CAAOC,MAAM,CAAE+B,QAAQ,GAAK,CAC/C,KAAM,CAAAjB,cAAc,CAAGzC,kBAAkB,CAACoB,OAAO,CAACsC,QAAQ,CAAC,CAC3D,GAAIjB,cAAc,CAAE,CAClB,KAAM,CAAAA,cAAc,CAACkB,oBAAoB,CAAChC,MAAM,CAAC,CACnD,CACF,CAAC,CAED;AACA,KAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAOC,SAAS,CAAE6B,QAAQ,GAAK,CACxD,KAAM,CAAAjB,cAAc,CAAGzC,kBAAkB,CAACoB,OAAO,CAACsC,QAAQ,CAAC,CAC3D,GAAIjB,cAAc,CAAE,CAClB,KAAM,CAAAA,cAAc,CAACoB,eAAe,CAAChC,SAAS,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAiC,WAAW,CAAIC,CAAC,EAAK,CACzBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIxF,QAAQ,CAACyF,IAAI,CAAC,CAAC,CAAE,CACnB3F,MAAM,CAACgF,IAAI,CAAC,UAAU,CAAE9E,QAAQ,CAACyF,IAAI,CAAC,CAAC,CAAC,CACxCtF,aAAa,CAAC,IAAI,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAuF,gBAAgB,CAAIH,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIxE,WAAW,CAACyE,IAAI,CAAC,CAAC,CAAE,CACtB3F,MAAM,CAACgF,IAAI,CAAC,aAAa,CAAE9D,WAAW,CAACyE,IAAI,CAAC,CAAC,CAAC,CAC9CxE,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAA0E,cAAc,CAAG,KAAO,CAAAC,MAAM,EAAK,CACvC,KAAM,CAAArC,eAAe,CAAC,CAAC,CACvBzD,MAAM,CAACgF,IAAI,CAAC,WAAW,CAAEc,MAAM,CAAC,CAClC,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIN,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI1E,UAAU,CAAC2E,IAAI,CAAC,CAAC,CAAE,CACrB3F,MAAM,CAACgF,IAAI,CAAC,cAAc,CAAE,CAAEgB,OAAO,CAAEhF,UAAU,CAAC2E,IAAI,CAAC,CAAE,CAAC,CAAC,CAC3D1E,aAAa,CAAC,EAAE,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAgF,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACA,GAAItE,cAAc,CAACmB,OAAO,CAAE,CAC1BnB,cAAc,CAACmB,OAAO,CAACuB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,EAAIA,KAAK,CAAC2B,IAAI,CAAC,CAAC,CAAC,CACnE,CAEAC,MAAM,CAACC,MAAM,CAAC1E,kBAAkB,CAACoB,OAAO,CAAC,CAACwB,OAAO,CAAC+B,EAAE,EAAIA,EAAE,CAACtD,KAAK,CAAC,CAAC,CAAC,CACnErB,kBAAkB,CAACoB,OAAO,CAAG,CAAC,CAAC,CAC/BrB,eAAe,CAACqB,OAAO,CAAG,CAAC,CAAC,CAE5BvC,cAAc,CAAC,OAAO,CAAC,CACvBI,cAAc,CAAC,IAAI,CAAC,CACpBE,eAAe,CAAC,EAAE,CAAC,CACnBE,WAAW,CAAC,EAAE,CAAC,CACjB,CAAC,CAED,KAAM,CAAAuF,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI3E,cAAc,CAACmB,OAAO,CAAE,CAC1B,KAAM,CAAAyD,UAAU,CAAG5E,cAAc,CAACmB,OAAO,CAAC0D,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7D,GAAID,UAAU,CAAE,CACdA,UAAU,CAACE,OAAO,CAAG,CAACF,UAAU,CAACE,OAAO,CACxCpF,UAAU,CAAC,CAACkF,UAAU,CAACE,OAAO,CAAC,CACjC,CACF,CACF,CAAC,CAED,GAAI,CAACrG,UAAU,CAAE,CACf,mBACEP,IAAA,QAAK6G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB5G,KAAA,QAAK2G,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEC,QAAQ,CAAE,OAAO,CAAEC,MAAM,CAAE,YAAa,CAAE,CAAAH,QAAA,eACvE9G,IAAA,OAAI+G,KAAK,CAAE,CAAEG,SAAS,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAC,gBAE5E,CAAI,CAAC,cACL5G,KAAA,SAAMmH,QAAQ,CAAE1B,WAAY,CAAAmB,QAAA,eAC1B9G,IAAA,UACEsH,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qBAAqB,CACjCC,KAAK,CAAEnH,QAAS,CAChBoH,QAAQ,CAAG7B,CAAC,EAAKtF,WAAW,CAACsF,CAAC,CAACR,MAAM,CAACoC,KAAK,CAAE,CAC7CX,SAAS,CAAC,OAAO,CACjBE,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAO,CAAE,CAChCO,QAAQ,MACT,CAAC,cACF1H,IAAA,WAAQsH,IAAI,CAAC,QAAQ,CAACT,SAAS,CAAC,KAAK,CAACE,KAAK,CAAE,CAAEY,KAAK,CAAE,MAAO,CAAE,CAAAb,QAAA,CAAC,WAEhE,CAAQ,CAAC,EACL,CAAC,cACP9G,IAAA,QAAK+G,KAAK,CAAE,CAAEG,SAAS,CAAE,QAAQ,CAAEU,SAAS,CAAE,MAAM,CAAER,KAAK,CAAE3F,WAAW,CAAG,SAAS,CAAG,SAAU,CAAE,CAAAqF,QAAA,CAChGrF,WAAW,CAAG,cAAc,CAAG,iBAAiB,CAC9C,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,GAAIhB,WAAW,GAAK,OAAO,CAAE,CAC3B,mBACET,IAAA,QAAK6G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB5G,KAAA,QAAK2G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5G,KAAA,QAAK6G,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEZ,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,eAC3G5G,KAAA,OAAI6G,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,EAAC,WAAS,CAACzG,QAAQ,CAAC,GAAC,EAAI,CAAC,cAC1DL,IAAA,QAAK+G,KAAK,CAAE,CAAEK,KAAK,CAAE3F,WAAW,CAAG,SAAS,CAAG,SAAU,CAAE,CAAAqF,QAAA,CACxDrF,WAAW,CAAG,cAAc,CAAG,iBAAiB,CAC9C,CAAC,EACH,CAAC,cAENzB,IAAA,SAAMqH,QAAQ,CAAEtB,gBAAiB,CAACgB,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,cAChE5G,KAAA,QAAK6G,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAAlB,QAAA,eAC3C9G,IAAA,UACEsH,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBC,KAAK,CAAEnG,WAAY,CACnBoG,QAAQ,CAAG7B,CAAC,EAAKtE,cAAc,CAACsE,CAAC,CAACR,MAAM,CAACoC,KAAK,CAAE,CAChDX,SAAS,CAAC,OAAO,CACjBE,KAAK,CAAE,CAAEkB,IAAI,CAAE,CAAE,CAAE,CACnBP,QAAQ,MACT,CAAC,cACF1H,IAAA,WAAQsH,IAAI,CAAC,QAAQ,CAACT,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,aAEtC,CAAQ,CAAC,EACN,CAAC,CACF,CAAC,cAEP9G,IAAA,OAAI+G,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC1EnG,KAAK,CAACuH,MAAM,GAAK,CAAC,cACjBlI,IAAA,QAAK6G,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,gDAA8C,CAAK,CAAC,cAE7E9G,IAAA,QAAK6G,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBnG,KAAK,CAAC8B,GAAG,CAACF,IAAI,eACbrC,KAAA,QAAmB2G,SAAS,CAAC,WAAW,CAACsB,OAAO,CAAEA,CAAA,GAAMnC,cAAc,CAACzD,IAAI,CAACI,EAAE,CAAE,CAAAmE,QAAA,eAC9E9G,IAAA,OAAI+G,KAAK,CAAE,CAAEI,YAAY,CAAE,KAAK,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAEvE,IAAI,CAAC6F,IAAI,CAAK,CAAC,cACtElI,KAAA,MAAG6G,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAS,CAAED,YAAY,CAAE,KAAM,CAAE,CAAAL,QAAA,EAAC,cACvC,CAACvE,IAAI,CAAC8F,SAAS,EAC1B,CAAC,cACJnI,KAAA,MAAG6G,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAS,CAAEkB,UAAU,CAAE,KAAM,CAAE,CAAAxB,QAAA,EAAC,eAC9C,CAACvE,IAAI,CAACgG,SAAS,CAAC,cAAY,CAAChG,IAAI,CAACgG,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAC9D,CAAC,GAPIhG,IAAI,CAACI,EAQV,CACN,CAAC,CACC,CACN,EACE,CAAC,CACH,CAAC,CAEV,CAEA,mBACEzC,KAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9G,IAAA,QAAK6G,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,cACpD5G,KAAA,QAAK6G,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAjB,QAAA,eACrF5G,KAAA,OAAI6G,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,EAAC,qBAAI,CAACjG,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEuH,IAAI,EAAK,CAAC,cAC7DpI,IAAA,WAAQmI,OAAO,CAAE/B,eAAgB,CAACS,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,YAEhE,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,cAEN5G,KAAA,QAAK2G,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5G,KAAA,QAAK2G,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9G,IAAA,OAAI+G,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAC,YAAU,CAAI,CAAC,cAEtE5G,KAAA,QAAK2G,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5G,KAAA,OAAI6G,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,EAAC,gBACvC,CAAC/F,YAAY,CAACmH,MAAM,CAAC,GACrC,EAAI,CAAC,CACJnH,YAAY,CAAC0B,GAAG,CAAC+F,WAAW,eAC3BtI,KAAA,QAA0B2G,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC/C9G,IAAA,SAAA8G,QAAA,CAAO0B,WAAW,CAACnI,QAAQ,CAAO,CAAC,cACnCL,IAAA,SAAM+G,KAAK,CAAE,CAAE0B,QAAQ,CAAE,MAAM,CAAErB,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CACjD0B,WAAW,CAAC7F,EAAE,GAAKxC,MAAM,CAACwC,EAAE,CAAG,OAAO,CAAG,IAAI,CAC1C,CAAC,GAJC6F,WAAW,CAAC7F,EAKjB,CACN,CAAC,EACC,CAAC,cAEN3C,IAAA,QAAK6G,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B9G,IAAA,WACEmI,OAAO,CAAE1B,UAAW,CACpBI,SAAS,aAAA6B,MAAA,CAAcnH,OAAO,CAAG,OAAO,CAAG,SAAS,CAAG,CACvDoH,KAAK,CAAEpH,OAAO,CAAG,QAAQ,CAAG,MAAO,CAAAuF,QAAA,CAElCvF,OAAO,CAAG,IAAI,CAAG,IAAI,CAChB,CAAC,CACN,CAAC,cAENvB,IAAA,UAAO4I,GAAG,CAAEjH,aAAc,CAACkH,KAAK,MAAC9B,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAO,CAAE,CAAE,CAAC,EAC5D,CAAC,cAEN3H,KAAA,QAAK2G,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9G,IAAA,OAAI+G,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAC,WAAS,CAAI,CAAC,cAErE9G,IAAA,QAAK6G,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtB7F,QAAQ,CAACiH,MAAM,GAAK,CAAC,cACpBlI,IAAA,QAAK+G,KAAK,CAAE,CAAEG,SAAS,CAAE,QAAQ,CAAEE,KAAK,CAAE,SAAS,CAAE0B,OAAO,CAAE,MAAO,CAAE,CAAAhC,QAAA,CAAC,0CAExE,CAAK,CAAC,CAEN7F,QAAQ,CAACwB,GAAG,CAACU,OAAO,eAClBjD,KAAA,QAAsB2G,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvC5G,KAAA,QAAK2G,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5B3D,OAAO,CAAC9C,QAAQ,cACjBL,IAAA,SAAM+G,KAAK,CAAE,CAAEgC,KAAK,CAAE,OAAO,CAAET,UAAU,CAAE,QAAQ,CAAEG,QAAQ,CAAE,MAAO,CAAE,CAAA3B,QAAA,CACrE,GAAI,CAAAkC,IAAI,CAAC7F,OAAO,CAAC8F,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAC7C,CAAC,EACJ,CAAC,cACNlJ,IAAA,QAAA8G,QAAA,CAAM3D,OAAO,CAACgD,OAAO,CAAM,CAAC,GAPpBhD,OAAO,CAACR,EAQb,CACN,CACF,CACE,CAAC,cAEN3C,IAAA,SAAMqH,QAAQ,CAAEnB,iBAAkB,CAAAY,QAAA,cAChC5G,KAAA,QAAK6G,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,KAAM,CAAE,CAAAlB,QAAA,eAC1C9G,IAAA,UACEsH,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAErG,UAAW,CAClBsG,QAAQ,CAAG7B,CAAC,EAAKxE,aAAa,CAACwE,CAAC,CAACR,MAAM,CAACoC,KAAK,CAAE,CAC/CX,SAAS,CAAC,OAAO,CACjBE,KAAK,CAAE,CAAEkB,IAAI,CAAE,CAAE,CAAE,CACnBP,QAAQ,MACT,CAAC,cACF1H,IAAA,WAAQsH,IAAI,CAAC,QAAQ,CAACT,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,MAEtC,CAAQ,CAAC,EACN,CAAC,CACF,CAAC,EACJ,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1G,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}